{"version":3,"sources":["webpack://Squigglier/webpack/universalModuleDefinition","webpack://Squigglier/webpack/bootstrap","webpack://Squigglier/./build/Animations.js","webpack://Squigglier/./build/Animate.js","webpack://Squigglier/./build/index.js","webpack://Squigglier/./build/SpriteLoader.js","webpack://Squigglier/./build/Filters.js","webpack://Squigglier/./build/Sequence.js","webpack://Squigglier/./build/Animations/Freehand.js","webpack://Squigglier/./build/Animations/FillIn.js","webpack://Squigglier/./build/SVGStyle.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__assign","this","assign","arguments","length","apply","Animate_1","Freehand_1","FillIn_1","Animations","expandSettingValue","delimiter","split","reduce","obj","pair","parts","checkIgnore","element","styles","rules","condition","rule","attr","getAttribute","applyValidGeometries","settings","svgAttributes","Animate","inspectSvg","geos","limits","limit","excludes","exclude","index","geo","ruleValue","attributeValue","geometriesToGeoMeta","geometries","minLength","targetDuration","meta","keys","info","_a","getTotalLength","drawable","totalDrawableGeoLength","totalGeoLength","duration","NONDRAWABLE_DURATION","totalDelay","geoData","totalDurations","durationAdjustment","sort","a","b","forEach","data","delay","withStyleSheet","callback","styleSheet","document","styleSheets","defaultFloat","defaultValue","parseFloat","freehand","Freehand","render","fillin","FillIn","svgOverride","attributes","_i","name_1","setAttribute","childNodes","child","SVGElement","SVG_GEO_ELEMENTS","results","indexOf","tagName","push","SpriteLoader_1","addEventListener","SpriteLoader","Filters_1","Sequence_1","subject","_this","sprites","HTMLElement","container","body","Document","mapChildTags","target","Sprite","eachElement","elements","handler","Element","parent","tag","getElementsByTagName","toLowerCase","_state","actions","animations","filters","events","loadSource","Array","isArray","src","loadObject","loader","XMLHttpRequest","open","send","onload","event","responseXML","firstChild","loaded","hydrate","SVGSVGElement","attributesToActions","scriptsToEvents","filter","action","Filters","compileSequence","outerHTML","console","log","getElementsByClassName","addEvents","script","createElementNS","handlers","replace","appendChild","parseSettings","setting","shift","parts_1","val","addEventHandler","SPRITE_EVENTS","innerHTML","Sequence","attach","addActions","run","state","animate","Animations_1","SVGStyle_1","sequenceItems","_index","actionSettings","_element","_style","SVGStyle","style","finalSequenceItem","sequenceItem","toString","isNaN","animation","sequence","id","width","awaitNext","await","validGeos","seqId","classList","add","keyframes","from","opacity","to","selector","animation-delay","mask","append","fill","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","className","RuleFamily","type","concat","toArray","css","prefix","postfix","map","merged","set","attribute","join","IdentifiedRuleAdder","ruleFamily","UnidentifiedRuleAdder","wrap","args","createElement","insertAdjacentElement"],"mappings":"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","file":"squigglier.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Squigglier\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Squigglier\"] = factory();\n\telse\n\t\troot[\"Squigglier\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar Animate_1 = require(\"./Animate\");\nvar Freehand_1 = require(\"./Animations/Freehand\");\nvar FillIn_1 = require(\"./Animations/FillIn\");\nvar Animations = /** @class */ (function () {\n    function Animations() {\n    }\n    // todo:getPointsFromGeos\n    // https://github.com/colinmeinke/svg-points/blob/master/src/toPoints.js\n    // expands delimited (usually comma or semicolon) list of keys or key\n    // value pairs (colon-separated)\n    Animations.expandSettingValue = function (value, delimiter) {\n        return value\n            ? value.split(delimiter).reduce(function (obj, pair) {\n                var parts = pair.split(/:/);\n                obj[parts[0]] = parts.length > 1 ? parts[1] : true;\n                return obj;\n            }, {})\n            : {};\n    };\n    // given an svg element, styles and rules (expanded with expandSettingValue), \n    // and a condition check callback, this will determine if the element should\n    // be ignored\n    Animations.checkIgnore = function (element, styles, rules, condition) {\n        for (var rule in rules) {\n            var attr = element.getAttribute(rule) || styles[rule];\n            var ignore = condition(rules[rule], attr);\n            if (ignore) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // given an SVGElement, all of the rules (limits, excludes, etc.), and settings\n    // provide a set of geometries\n    Animations.applyValidGeometries = function (element, settings) {\n        if (settings === void 0) { settings = {}; }\n        var svgAttributes = Animate_1.Animate.inspectSvg(element);\n        var geos = {};\n        var limits = Animations.expandSettingValue(settings.limit, /[\\,\\&]/);\n        var excludes = Animations.expandSettingValue(settings.exclude, /[\\,\\&]/);\n        for (var index in svgAttributes.geos) {\n            var geo = svgAttributes.geos[index];\n            var styles = Animations.expandSettingValue(geo.getAttribute('style'), /\\s*;\\s*/);\n            if (!(Animations.checkIgnore(geo, styles, limits, function (ruleValue, attributeValue) {\n                return (ruleValue !== (typeof attributeValue === 'undefined' || attributeValue === null ? 'default' : attributeValue));\n            }) ||\n                Animations.checkIgnore(geo, styles, excludes, function (ruleValue, attributeValue) {\n                    return (ruleValue === (typeof attributeValue === 'undefined' || attributeValue === null ? 'default' : attributeValue));\n                }))) {\n                geos[index] = geo;\n            }\n        }\n        return geos;\n    };\n    // given a set of geometries, build metadata for rendering \n    Animations.geometriesToGeoMeta = function (geometries, minLength, targetDuration) {\n        var meta = Object.keys(geometries).reduce(function (info, index) {\n            var _a;\n            var geo = geometries[index];\n            var length = geo.getTotalLength();\n            var drawable = length >= minLength;\n            var totalDrawableGeoLength = drawable\n                ? info.totalDrawableGeoLength + length\n                : info.totalDrawableGeoLength;\n            var totalGeoLength = info.totalGeoLength + length;\n            var duration = drawable\n                ? (length / totalDrawableGeoLength) * targetDuration\n                : Animations.NONDRAWABLE_DURATION;\n            var geoData = __assign({}, info.geoData, (_a = {}, _a[index] = __assign({}, info.geoData[index] || {}, { geo: geo,\n                length: length,\n                drawable: drawable,\n                duration: duration }), _a));\n            return {\n                totalDrawableGeoLength: totalDrawableGeoLength,\n                totalGeoLength: totalGeoLength,\n                totalDelay: 0,\n                geoData: geoData\n            };\n        }, {\n            totalGeoLength: 0,\n            totalDrawableGeoLength: 0,\n            totalDelay: 0,\n            geoData: {}\n        });\n        var geoData = meta.geoData;\n        // determine adjustment to durations based upon number of drawable geos\n        var totalDurations = Object.keys(geoData)\n            .reduce(function (duration, index) { return duration + geoData[index].duration; }, 0);\n        var durationAdjustment = targetDuration / totalDurations;\n        // determine timing of each geo\n        // todo: this is for sequential\n        Object.keys(geoData)\n            .sort(function (a, b) { return geoData[a].length > geoData[b].length ? -1 : 1; })\n            .forEach(function (index) {\n            var data = geoData[index];\n            data.duration *= durationAdjustment;\n            data.delay = meta.totalDelay;\n            meta.totalDelay += data.duration;\n        });\n        return meta;\n    };\n    Animations.withStyleSheet = function (callback) {\n        var styleSheet = (document.styleSheets && document.styleSheets[0]);\n        if (styleSheet) {\n            callback(styleSheet);\n        }\n    };\n    Animations.defaultFloat = function (value, defaultValue) {\n        return typeof value !== 'undefined' && value !== null && parseFloat(value)\n            ? parseFloat(value)\n            : defaultValue;\n    };\n    Animations.NONDRAWABLE_DURATION = 0.5;\n    // usable animations \n    Animations.freehand = Freehand_1.Freehand.render;\n    Animations.fillin = FillIn_1.FillIn.render;\n    return Animations;\n}());\nexports.Animations = Animations;\n","\"use strict\";\nexports.__esModule = true;\nvar Animate = /** @class */ (function () {\n    function Animate() {\n    }\n    Animate.svgOverride = function (element, attributes) {\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var name_1 = _a[_i];\n            element.setAttribute(name_1, attributes[name_1]);\n        }\n        for (var index in element.childNodes) {\n            var child = element.childNodes[index];\n            if (child instanceof SVGElement) {\n                this.svgOverride(child, attributes);\n            }\n        }\n    };\n    Animate.SVG_GEO_ELEMENTS = [\n        'circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect', 'text'\n    ];\n    Animate.inspectSvg = function (element, results) {\n        if (results === void 0) { results = { geos: [] }; }\n        if (Animate.SVG_GEO_ELEMENTS.indexOf(element.tagName) !== -1) {\n            results.geos.push(element);\n            return results;\n        }\n        if (element.tagName === 'g' || element.tagName === 'svg') {\n            for (var index in element.childNodes) {\n                results = this.inspectSvg(element.childNodes[index], results);\n            }\n        }\n        return results;\n    };\n    return Animate;\n}());\nexports.Animate = Animate;\n","\"use strict\";\nexports.__esModule = true;\nvar SpriteLoader_1 = require(\"./SpriteLoader\");\ndocument.addEventListener('DOMContentLoaded', function () { return new SpriteLoader_1.SpriteLoader(); });\n","\"use strict\";\nexports.__esModule = true;\nvar Filters_1 = require(\"./Filters\");\nvar Sequence_1 = require(\"./Sequence\");\nvar SpriteLoader = /** @class */ (function () {\n    function SpriteLoader(subject) {\n        var _this = this;\n        this.sprites = [];\n        if (subject instanceof HTMLElement) {\n            // todo\n            return;\n        }\n        var container = (typeof subject === 'undefined' || subject === null)\n            ? document.body\n            : (subject instanceof Document\n                ? subject.body\n                : null);\n        if (!container) {\n            return;\n        }\n        SpriteLoader.mapChildTags(container, 'sprite', function (target) {\n            _this.sprites.push(new Sprite(target));\n        });\n    }\n    SpriteLoader.eachElement = function (elements, handler) {\n        for (var index in elements) {\n            if (elements.hasOwnProperty(index) && elements[index] instanceof Element) {\n                handler(elements[index]);\n            }\n        }\n    };\n    SpriteLoader.mapChildTags = function (parent, tag, handler) {\n        var elements = parent.getElementsByTagName(tag.toLowerCase());\n        SpriteLoader.eachElement(elements, function (element) {\n            if (element.tagName.toLowerCase() === tag.toLowerCase()) {\n                handler(element);\n            }\n        });\n    };\n    return SpriteLoader;\n}());\nexports.SpriteLoader = SpriteLoader;\nvar Sprite = /** @class */ (function () {\n    function Sprite(target) {\n        this._state = 'dehydrated';\n        this.actions = {\n            animations: [],\n            filters: []\n        };\n        this.events = {};\n        this.loadSource(target);\n    }\n    Sprite.prototype.loadSource = function (target) {\n        if (!target.getAttribute && Array.isArray(target)) {\n            target = target[0];\n        }\n        this.target = target;\n        var src = target.getAttribute('src');\n        if (!src) {\n            return;\n        }\n        this.loadObject(src);\n    };\n    Sprite.prototype.loadObject = function (src) {\n        var _this = this;\n        var loader = new XMLHttpRequest();\n        loader.open('GET', src, true);\n        loader.send();\n        loader.onload = function (event) {\n            var element = loader.responseXML.firstChild;\n            if (element instanceof SVGElement) {\n                _this.loaded = element;\n                _this._state = 'hydrating';\n                _this.hydrate();\n            }\n            else {\n                _this._state = 'error';\n            }\n        };\n    };\n    Sprite.prototype.hydrate = function () {\n        var _this = this;\n        if (!(this.loaded instanceof SVGSVGElement)) {\n            this._state = 'error';\n            return;\n        }\n        this.attributesToActions();\n        this.scriptsToEvents();\n        // filters change things before we even start animating\n        // so they'll get baked in    \n        for (var _i = 0, _a = this.actions.filters; _i < _a.length; _i++) {\n            var filter = _a[_i];\n            var action = filter.action, settings = filter.settings;\n            if (typeof Filters_1.Filters[action] === 'function') {\n                Filters_1.Filters[action](this.loaded, settings);\n            }\n        }\n        this.compileSequence(function () {\n            // this.assets[this.loaded.getAttribute('id')] = this.loaded.outerHTML   \n            _this.target.outerHTML = _this.loaded.outerHTML;\n            console.log('HERE', _this.target.getElementsByClassName('script'));\n            _this.addEvents(_this.target);\n            console.log('AFTER', _this.target.getElementsByClassName('script'));\n        });\n    };\n    Sprite.prototype.addEvents = function (element) {\n        if (Object.keys(this.events).length === 0) {\n            return;\n        }\n        var script = document.createElementNS(element.getAttribute('xmlns'), 'script');\n        script.setAttribute('type', 'text/javascript');\n        var handlers = [];\n        for (var name_1 in this.events) {\n            handlers.push(\"\\n        this.addEventListener('\" + name_1.replace(/^on/, '') + \"',\\n          function(e) {\\n            \" + this.events[name_1] + \"\\n          }\\n        )\\n      \");\n        }\n        console.log('3', script);\n        element.appendChild(script);\n        console.log(element);\n    };\n    Sprite.prototype.attributesToActions = function () {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(this.target.attributes); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var attr = this.target.attributes[key];\n            if (!this.loaded.attributes.hasOwnProperty(attr.name)) {\n                switch (attr.name) {\n                    case 'animation':\n                        attr.value\n                            .split(/\\s*;\\s*/)\n                            .forEach(function (value) { return _this.actions.animations.push(_this.parseSettings(value)); });\n                        break;\n                    case 'filter':\n                        attr.value\n                            .split(/\\s*;\\s*/)\n                            .forEach(function (value) { return _this.actions.filters.push(_this.parseSettings(value)); });\n                        break;\n                }\n                this.loaded.setAttribute(attr.name, attr.value);\n            }\n            // this.loaded.setAttribute(attr.name, attr.value)\n        }\n    };\n    Sprite.prototype.parseSettings = function (setting) {\n        var parts = setting.split(/\\s+/);\n        var action = parts.shift();\n        var settings = {};\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var setting_1 = parts_1[_i];\n            var _a = setting_1.split(/=/), key = _a[0], val = _a[1];\n            settings[key] = typeof val !== 'undefined' ? val : true;\n        }\n        return { action: action, settings: settings };\n    };\n    Sprite.prototype.addEventHandler = function (name, body) {\n        this.events[name] = \"\\n\" + body + \"\\n\";\n    };\n    Sprite.prototype.scriptsToEvents = function () {\n        var _this = this;\n        SpriteLoader.mapChildTags(this.target, 'events', function (events) {\n            console.log('events', events);\n            SpriteLoader.eachElement(events.childNodes, function (event) {\n                if (Sprite.SPRITE_EVENTS.indexOf(event.tagName.toLowerCase()) !== -1) {\n                    _this.addEventHandler(event.tagName.toLowerCase(), event.innerHTML);\n                }\n            });\n        });\n    };\n    Sprite.prototype.compileSequence = function (callback) {\n        Sequence_1.Sequence\n            .attach(this.loaded)\n            .addActions(this.actions)[\"finally\"](callback)\n            .run();\n    };\n    Sprite.prototype.state = function () {\n        return this._state;\n    };\n    Sprite.SPRITE_EVENTS = [\n        'onbegin', 'onend', 'onrepeat', 'onabort', 'onerror', 'onresize', 'onscroll', 'onunload',\n        'oncopy', 'oncut', 'onpaste', 'oncancel', 'oncanplay', 'oncanplaythrough', 'onchange',\n        'onclick', 'onclose', 'oncuechange', 'ondblclick', 'ondrag', 'ondragend', 'ondragenter',\n        'ondragexit', 'ondragleave', 'ondragover', 'ondragstart', 'ondrop', 'ondurationchange',\n        'onemptied', 'onended', 'onfocus', 'oninput', 'oninvalid', 'onkeydown', 'onkeypress',\n        'onkeyup', 'onload', 'onloadeddata', 'onloadedmetadata', 'onloadstart', 'onmousedown',\n        'onmouseenter', 'onmouseleave', 'onmousemove', 'onmouseout', 'onmouseover', 'onmouseup',\n        'onmousewheel', 'onpause', 'onplay', 'onplaying', 'onprogress', 'onratechange', 'onreset',\n        'onresize', 'onscroll', 'onseeked', 'onseeking', 'onselect', 'onshow', 'onstalled',\n        'onsubmit', 'onsuspend', 'ontimeupdate', 'ontoggle', 'onvolumechange', 'onwaiting',\n        'onactivate', 'onfocusin', 'onfocusout'\n    ];\n    return Sprite;\n}());\n","\"use strict\";\nexports.__esModule = true;\nvar Animate_1 = require(\"./Animate\");\nvar Filters = /** @class */ (function () {\n    function Filters() {\n    }\n    Filters.animate = function (element, settings) {\n        if (settings === void 0) { settings = {}; }\n        Animate_1.Animate.svgOverride(element, settings);\n    };\n    return Filters;\n}());\nexports.Filters = Filters;\n","\"use strict\";\nexports.__esModule = true;\nvar Animations_1 = require(\"./Animations\");\nvar SVGStyle_1 = require(\"./SVGStyle\");\nvar Sequence = /** @class */ (function () {\n    function Sequence(element) {\n        this.sequenceItems = [];\n        this._index = 0;\n        this.actionSettings = {};\n        this._element = element;\n        this._style = new SVGStyle_1.SVGStyle(this._element);\n    }\n    Sequence.prototype.element = function () {\n        return this._element;\n    };\n    Sequence.prototype.index = function () {\n        return this._index;\n    };\n    Sequence.prototype.style = function () {\n        return this._style;\n    };\n    Sequence.attach = function (element) {\n        return new Sequence(element);\n    };\n    Sequence.prototype.settings = function (actionSettings) {\n        if (actionSettings === void 0) { actionSettings = {}; }\n        this.actionSettings = actionSettings;\n    };\n    Sequence.prototype.run = function () {\n        var _this = this;\n        this._index++;\n        if (this.sequenceItems.length === 0) {\n            this._style.render();\n            if (typeof this.finalSequenceItem === 'function') {\n                this.finalSequenceItem();\n            }\n        }\n        var sequenceItem = this.sequenceItems.shift();\n        if (!sequenceItem) {\n            return this;\n        }\n        var action = sequenceItem.action, settings = sequenceItem.settings;\n        Object.keys(this.actionSettings).forEach(function (index) {\n            if (typeof settings[index] === 'undefined') {\n                settings[index] = _this.actionSettings[index].toString();\n                return _this;\n            }\n            // add numbers as numbers\n            if (!isNaN(settings[index]) && !isNaN(_this.actionSettings[index])) {\n                settings[index] = (parseFloat(settings[index]) + parseFloat(_this.actionSettings[index])).toString();\n            }\n        });\n        Animations_1.Animations[action](settings, this);\n        return this;\n    };\n    Sequence.prototype[\"finally\"] = function (finalSequenceItem) {\n        this.finalSequenceItem = finalSequenceItem;\n        return this;\n    };\n    Sequence.prototype.addActions = function (actions) {\n        for (var _i = 0, _a = actions.animations; _i < _a.length; _i++) {\n            var animation = _a[_i];\n            var action = animation.action, settings = animation.settings;\n            if (typeof Animations_1.Animations[action] === 'function') {\n                this.sequenceItems.push({ action: action, settings: settings });\n            }\n        }\n        return this;\n    };\n    return Sequence;\n}());\nexports.Sequence = Sequence;\n","\"use strict\";\nexports.__esModule = true;\nvar Animations_1 = require(\"../Animations\");\nvar Freehand = /** @class */ (function () {\n    function Freehand() {\n    }\n    Freehand.render = function (settings, sequence) {\n        if (settings === void 0) { settings = {}; }\n        // values from settings\n        var id = sequence.element().getAttribute('id');\n        var width = Animations_1.Animations.defaultFloat(settings.width, 30);\n        var minLength = Animations_1.Animations.defaultFloat(settings.minLength, 0);\n        var duration = Animations_1.Animations.defaultFloat(settings.duration, 5);\n        var awaitNext = typeof settings.await !== 'undefined';\n        // create definition block for mask geometries\n        // const defs = document.createElement('defs')\n        // parse geometries in element \n        var validGeos = Animations_1.Animations.applyValidGeometries(sequence.element(), settings);\n        var meta = Animations_1.Animations.geometriesToGeoMeta(validGeos, minLength, duration);\n        // add classes and masks for animations\n        Object.keys(meta.geoData)\n            .forEach(function (index) {\n            var data = meta.geoData[index];\n            var seqId = id + \"-\" + sequence.index() + \"-\" + index;\n            if (!data.drawable) {\n                data.geo.classList.add(seqId + \"-tiny\");\n                // add css keyframe for animation\n                sequence.style().keyframes(seqId + \"-freehand\").add({\n                    from: { opacity: 0 },\n                    to: { opacity: 1 }\n                });\n                // add css settings\n                sequence.style().selector(\".\" + seqId + \"-tiny\").add({\n                    opacity: 0,\n                    animation: seqId + \"-freehand 0s linear forwards\",\n                    'animation-delay': data.delay + \"s\"\n                });\n                return;\n            }\n            var mask = document.createElementNS(sequence.element().getAttribute('xmlns'), 'mask');\n            mask.setAttribute('id', seqId + \"-mask\");\n            mask.setAttribute('maskUnits', 'userSpaceOnUse');\n            mask.innerHTML = \"<path class=\\\"\" + seqId + \"-mask\\\" d=\\\"\" + data.geo.getAttribute('d') + \"\\\"/>\";\n            sequence.element().append(mask);\n            data.geo.setAttribute('mask', \"url(#\" + seqId + \"-mask)\");\n            // add css mask settings\n            sequence.style().selector(\"#\" + seqId + \"-mask\").add({\n                fill: \"none\",\n                stroke: \"white\",\n                'stroke-width': width,\n                'stroke-dasharray': data.length + \" \" + data.length,\n                'stroke-dashoffset': \"\" + data.length,\n                'animation': seqId + \"-freehand \" + data.duration + \"s linear forwards\",\n                'animation-delay': data.delay + \"s\"\n            });\n            // add css keyframe for animation\n            sequence.style().keyframes(seqId + \"-freehand\").add({\n                from: { 'stroke-dashoffset': data.length },\n                to: { 'stroke-dashoffset': 0 }\n            });\n        });\n        // add defnition block to the beginning of the element\n        // sequence.element().insertAdjacentElement('afterbegin', defs)\n        sequence.settings({\n            delay: awaitNext ? meta.totalDelay : 0\n        });\n        sequence.run();\n    };\n    return Freehand;\n}());\nexports.Freehand = Freehand;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar Animations_1 = require(\"../Animations\");\nvar FillIn = /** @class */ (function () {\n    function FillIn() {\n    }\n    FillIn.render = function (settings, sequence) {\n        if (settings === void 0) { settings = {}; }\n        // ensure style sheet\n        var geos = Animations_1.Animations.applyValidGeometries(sequence.element(), settings);\n        var id = sequence.element().getAttribute('id');\n        var opacity = Animations_1.Animations.defaultFloat(settings.opacity, 0);\n        var delay = Animations_1.Animations.defaultFloat(settings.delay, 0);\n        var duration = Animations_1.Animations.defaultFloat(settings.duration, 0);\n        var fill = settings.fill;\n        Object.keys(geos).forEach(function (index) {\n            var geo = geos[index];\n            var seqId = id + \"-\" + sequence.index() + \"-\" + index;\n            var className = id + \"-fill-\" + index;\n            // add css keyframe for animation\n            // to-do make this more generated\n            // store last to value as next from value\n            sequence.style()\n                .keyframes(seqId + \"-opacity\")\n                .add({\n                from: {\n                    opacity: 0\n                },\n                to: __assign({}, fill ? { fill: fill } : {}, { opacity: opacity })\n            });\n            geo.classList.add(className);\n            sequence.style()\n                .selector(\".\" + className)\n                .add({\n                animation: seqId + \"-opacity \" + duration + \"s linear \" + delay + \"s forwards\"\n            });\n        });\n        sequence.run();\n    };\n    return FillIn;\n}());\nexports.FillIn = FillIn;\n","\"use strict\";\nexports.__esModule = true;\nvar RuleFamily = /** @class */ (function () {\n    function RuleFamily(type) {\n        this.rules = {};\n        this.type = type;\n    }\n    RuleFamily.prototype.add = function (id, rules) {\n        this.rules[id] = (this.rules[id] ? this.rules[id] : []).concat(this.toArray(rules));\n    };\n    RuleFamily.prototype.css = function () {\n        var _this = this;\n        var prefix = this.type === 'KEYFRAMES' ? '@keyframes ' : \"\";\n        var postfix = this.type === 'KEYFRAMES' ? '' : ':';\n        return Object.keys(this.rules).map(function (id) {\n            var merged = _this.rules[id].reduce(function (merged, set) {\n                Object.keys(set).forEach(function (attribute) {\n                    merged[attribute] = (merged[attribute] ? merged[attribute] : []).concat(set[attribute]);\n                });\n                return merged;\n            }, {});\n            return \"\" + prefix + id + \" {\\n\" + Object.keys(merged).map(function (attribute) { return \"\" + attribute + postfix + \" \" + (_this.type === 'KEYFRAMES'\n                ? \"{\" + merged[attribute].map(function (value) { return Object.keys(value).map(function (setting) { return setting + \": \" + value[setting] + \"; \"; }); }) + \"}\"\n                : merged[attribute].join(', ') + \";\"); }).join('\\n') + \"\\n}\\n\";\n        }).join('\\n');\n    };\n    RuleFamily.prototype.toArray = function (rules) {\n        if (!Array.isArray(rules)) {\n            return [rules];\n        }\n        return rules;\n    };\n    return RuleFamily;\n}());\nexports.RuleFamily = RuleFamily;\nvar IdentifiedRuleAdder = /** @class */ (function () {\n    function IdentifiedRuleAdder(ruleFamily, id) {\n        this.ruleFamily = ruleFamily;\n        this.id = id;\n    }\n    IdentifiedRuleAdder.prototype.add = function (rules) {\n        this.ruleFamily.add(this.id, rules);\n        return this;\n    };\n    return IdentifiedRuleAdder;\n}());\nexports.IdentifiedRuleAdder = IdentifiedRuleAdder;\nvar UnidentifiedRuleAdder = /** @class */ (function () {\n    function UnidentifiedRuleAdder(ruleFamily) {\n        this.ruleFamily = ruleFamily;\n    }\n    UnidentifiedRuleAdder.prototype.add = function (id, rules) {\n        this.ruleFamily.add(id, rules);\n        return this;\n    };\n    return UnidentifiedRuleAdder;\n}());\nexports.UnidentifiedRuleAdder = UnidentifiedRuleAdder;\nvar SVGStyle = /** @class */ (function () {\n    function SVGStyle(element) {\n        this.rules = {\n            keyframes: new RuleFamily('KEYFRAMES'),\n            selector: new RuleFamily('SELECTOR')\n        };\n        this.element = element;\n    }\n    SVGStyle.prototype.wrap = function (id, ruleFamily) {\n        if (id) {\n            return {\n                add: function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    if (!args) {\n                        return ruleFamily;\n                    }\n                    if (args.length === 2 && typeof args[0] === 'string' && typeof args[1] === 'object') {\n                        return ruleFamily.add(args[0], args[1]);\n                    }\n                    if (args.length === 1 && typeof args[0] === 'object') {\n                        return ruleFamily.add(id, args[0]);\n                    }\n                    return ruleFamily;\n                }\n            };\n        }\n        return {\n            add: function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                if (!args) {\n                    return ruleFamily;\n                }\n                if (args.length === 2 && typeof args[0] === 'string' && typeof args[1] === 'object') {\n                    return ruleFamily.add(args[0], args[1]);\n                }\n                return ruleFamily;\n            }\n        };\n    };\n    SVGStyle.prototype.render = function () {\n        var css = [\n            this.rules.keyframes.css(),\n            this.rules.selector.css()\n        ].join('\\n');\n        this.styleSheet = document.createElement('style');\n        this.styleSheet.innerHTML = css;\n        this.element.insertAdjacentElement('afterbegin', this.styleSheet);\n    };\n    SVGStyle.prototype.keyframes = function (id) {\n        return this.wrap(id, this.rules.keyframes);\n    };\n    SVGStyle.prototype.selector = function (id) {\n        return this.wrap(id, this.rules.selector);\n    };\n    return SVGStyle;\n}());\nexports.SVGStyle = SVGStyle;\n"],"sourceRoot":""}