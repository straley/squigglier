{"version":3,"sources":["webpack://Squigglier/webpack/universalModuleDefinition","webpack://Squigglier/webpack/bootstrap","webpack://Squigglier/./build/Animations.js","webpack://Squigglier/./build/Animate.js","webpack://Squigglier/./build/index.js","webpack://Squigglier/./build/Loader.js","webpack://Squigglier/./build/Filters.js","webpack://Squigglier/./build/Sequence.js","webpack://Squigglier/./build/Animations/Freehand.js","webpack://Squigglier/./build/Animations/FillIn.js","webpack://Squigglier/./build/SVGStyle.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__assign","this","assign","arguments","length","apply","Animate_1","Freehand_1","FillIn_1","Animations","expandSettingValue","delimiter","split","reduce","obj","pair","parts","checkIgnore","element","styles","rules","condition","rule","attr","getAttribute","applyValidGeometries","settings","svgAttributes","Animate","inspectSvg","geos","limits","limit","excludes","exclude","index","geo","ruleValue","attributeValue","geometriesToGeoMeta","geometries","minLength","targetDuration","meta","keys","info","_a","getTotalLength","drawable","totalDrawableGeoLength","totalGeoLength","duration","NONDRAWABLE_DURATION","totalDelay","geoData","totalDurations","durationAdjustment","sort","a","b","forEach","data","delay","withStyleSheet","callback","styleSheet","document","styleSheets","defaultFloat","defaultValue","parseFloat","freehand","Freehand","render","fillin","FillIn","svgOverride","attributes","_i","name_1","setAttribute","childNodes","child","SVGElement","SVG_GEO_ELEMENTS","results","indexOf","tagName","push","Loader_1","addEventListener","Loader","getElementsByTagName","Filters_1","Sequence_1","elements","assets","loadSrc","loadObject","src","loader","XMLHttpRequest","open","send","onload","responseXML","firstChild","parseSettings","setting","command","shift","parts_1","val","target","_this","Array","isArray","animations","filters","_b","filters_1","filter","Filters","SVGSVGElement","Sequence","attach","addActions","outerHTML","run","animate","Animations_1","SVGStyle_1","actions","_index","actionSettings","_element","_style","SVGStyle","style","finalAction","action","toString","isNaN","actions_1","sequence","id","width","awaitNext","await","validGeos","seqId","classList","add","keyframes","from","opacity","to","selector","animation","animation-delay","mask","createElementNS","innerHTML","append","fill","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","className","RuleFamily","type","concat","toArray","css","prefix","postfix","map","merged","set","attribute","join","IdentifiedRuleAdder","ruleFamily","UnidentifiedRuleAdder","wrap","args","createElement","insertAdjacentElement"],"mappings":"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","file":"squigglier.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Squigglier\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Squigglier\"] = factory();\n\telse\n\t\troot[\"Squigglier\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar Animate_1 = require(\"./Animate\");\nvar Freehand_1 = require(\"./Animations/Freehand\");\nvar FillIn_1 = require(\"./Animations/FillIn\");\nvar Animations = /** @class */ (function () {\n    function Animations() {\n    }\n    // todo:getPointsFromGeos\n    // https://github.com/colinmeinke/svg-points/blob/master/src/toPoints.js\n    // expands delimited (usually comma or semicolon) list of keys or key\n    // value pairs (colon-separated)\n    Animations.expandSettingValue = function (value, delimiter) {\n        return value\n            ? value.split(delimiter).reduce(function (obj, pair) {\n                var parts = pair.split(/:/);\n                obj[parts[0]] = parts.length > 1 ? parts[1] : true;\n                return obj;\n            }, {})\n            : {};\n    };\n    // given an svg element, styles and rules (expanded with expandSettingValue), \n    // and a condition check callback, this will determine if the element should\n    // be ignored\n    Animations.checkIgnore = function (element, styles, rules, condition) {\n        for (var rule in rules) {\n            var attr = element.getAttribute(rule) || styles[rule];\n            var ignore = condition(rules[rule], attr);\n            if (ignore) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // given an SVGElement, all of the rules (limits, excludes, etc.), and settings\n    // provide a set of geometries\n    Animations.applyValidGeometries = function (element, settings) {\n        if (settings === void 0) { settings = {}; }\n        var svgAttributes = Animate_1.Animate.inspectSvg(element);\n        var geos = {};\n        var limits = Animations.expandSettingValue(settings.limit, /[\\,\\&]/);\n        var excludes = Animations.expandSettingValue(settings.exclude, /[\\,\\&]/);\n        for (var index in svgAttributes.geos) {\n            var geo = svgAttributes.geos[index];\n            var styles = Animations.expandSettingValue(geo.getAttribute('style'), /\\s*;\\s*/);\n            if (!(Animations.checkIgnore(geo, styles, limits, function (ruleValue, attributeValue) {\n                return (ruleValue !== (typeof attributeValue === 'undefined' || attributeValue === null ? 'default' : attributeValue));\n            }) ||\n                Animations.checkIgnore(geo, styles, excludes, function (ruleValue, attributeValue) {\n                    return (ruleValue === (typeof attributeValue === 'undefined' || attributeValue === null ? 'default' : attributeValue));\n                }))) {\n                geos[index] = geo;\n            }\n        }\n        return geos;\n    };\n    // given a set of geometries, build metadata for rendering \n    Animations.geometriesToGeoMeta = function (geometries, minLength, targetDuration) {\n        var meta = Object.keys(geometries).reduce(function (info, index) {\n            var _a;\n            var geo = geometries[index];\n            var length = geo.getTotalLength();\n            var drawable = length >= minLength;\n            var totalDrawableGeoLength = drawable\n                ? info.totalDrawableGeoLength + length\n                : info.totalDrawableGeoLength;\n            var totalGeoLength = info.totalGeoLength + length;\n            var duration = drawable\n                ? (length / totalDrawableGeoLength) * targetDuration\n                : Animations.NONDRAWABLE_DURATION;\n            var geoData = __assign({}, info.geoData, (_a = {}, _a[index] = __assign({}, info.geoData[index] || {}, { geo: geo,\n                length: length,\n                drawable: drawable,\n                duration: duration }), _a));\n            return {\n                totalDrawableGeoLength: totalDrawableGeoLength,\n                totalGeoLength: totalGeoLength,\n                totalDelay: 0,\n                geoData: geoData\n            };\n        }, {\n            totalGeoLength: 0,\n            totalDrawableGeoLength: 0,\n            totalDelay: 0,\n            geoData: {}\n        });\n        var geoData = meta.geoData;\n        // determine adjustment to durations based upon number of drawable geos\n        var totalDurations = Object.keys(geoData)\n            .reduce(function (duration, index) { return duration + geoData[index].duration; }, 0);\n        var durationAdjustment = targetDuration / totalDurations;\n        // determine timing of each geo\n        // todo: this is for sequential\n        Object.keys(geoData)\n            .sort(function (a, b) { return geoData[a].length > geoData[b].length ? -1 : 1; })\n            .forEach(function (index) {\n            var data = geoData[index];\n            data.duration *= durationAdjustment;\n            data.delay = meta.totalDelay;\n            meta.totalDelay += data.duration;\n        });\n        return meta;\n    };\n    Animations.withStyleSheet = function (callback) {\n        var styleSheet = (document.styleSheets && document.styleSheets[0]);\n        if (styleSheet) {\n            callback(styleSheet);\n        }\n    };\n    Animations.defaultFloat = function (value, defaultValue) {\n        return typeof value !== 'undefined' && value !== null && parseFloat(value)\n            ? parseFloat(value)\n            : defaultValue;\n    };\n    Animations.NONDRAWABLE_DURATION = 0.5;\n    // usable animations \n    Animations.freehand = Freehand_1.Freehand.render;\n    Animations.fillin = FillIn_1.FillIn.render;\n    return Animations;\n}());\nexports.Animations = Animations;\n","\"use strict\";\nexports.__esModule = true;\nvar Animate = /** @class */ (function () {\n    function Animate() {\n    }\n    Animate.svgOverride = function (element, attributes) {\n        for (var _i = 0, _a = Object.keys(attributes); _i < _a.length; _i++) {\n            var name_1 = _a[_i];\n            element.setAttribute(name_1, attributes[name_1]);\n        }\n        for (var index in element.childNodes) {\n            var child = element.childNodes[index];\n            if (child instanceof SVGElement) {\n                this.svgOverride(child, attributes);\n            }\n        }\n    };\n    Animate.SVG_GEO_ELEMENTS = [\n        'circle', 'ellipse', 'line', 'path', 'polygon', 'polyline', 'rect', 'text'\n    ];\n    Animate.inspectSvg = function (element, results) {\n        if (results === void 0) { results = { geos: [] }; }\n        if (Animate.SVG_GEO_ELEMENTS.indexOf(element.tagName) !== -1) {\n            results.geos.push(element);\n            return results;\n        }\n        if (element.tagName === 'g' || element.tagName === 'svg') {\n            for (var index in element.childNodes) {\n                results = this.inspectSvg(element.childNodes[index], results);\n            }\n        }\n        return results;\n    };\n    return Animate;\n}());\nexports.Animate = Animate;\n","\"use strict\";\nexports.__esModule = true;\nvar Loader_1 = require(\"./Loader\");\ndocument.addEventListener('DOMContentLoaded', function () { return new Loader_1.Loader(document.getElementsByTagName('svg')); });\n","\"use strict\";\nexports.__esModule = true;\nvar Filters_1 = require(\"./Filters\");\nvar Sequence_1 = require(\"./Sequence\");\nvar Loader = /** @class */ (function () {\n    function Loader(elements) {\n        this.assets = {};\n        for (var index in elements) {\n            this.loadSrc(elements[index]);\n        }\n    }\n    Loader.prototype.loadObject = function (src, callback) {\n        var loader = new XMLHttpRequest();\n        loader.open('GET', src, true);\n        loader.send();\n        loader.onload = function () { callback(loader.responseXML.firstChild); };\n    };\n    Loader.prototype.parseSettings = function (setting) {\n        var parts = setting.split(/\\s+/);\n        var command = parts.shift();\n        var settings = {};\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var setting_1 = parts_1[_i];\n            var _a = setting_1.split(/=/), key = _a[0], val = _a[1];\n            settings[key] = typeof val !== 'undefined' ? val : true;\n        }\n        return { command: command, settings: settings };\n    };\n    Loader.prototype.loadSrc = function (target) {\n        var _this = this;\n        if (!target.getAttribute && Array.isArray(target)) {\n            target = target[0];\n        }\n        var src = typeof target.getAttribute === 'function' && target.getAttribute('src');\n        if (!src) {\n            return;\n        }\n        this.loadObject(src, function (object) {\n            var attributes = object.attributes;\n            // let onload = null\n            var animations = [];\n            var filters = [];\n            for (var _i = 0, _a = Object.keys(target.attributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var attr = target.attributes[key];\n                if (!attributes.hasOwnProperty(attr.name)) {\n                    switch (attr.name) {\n                        // case 'onload': \n                        //   onload = attr.value\n                        //   break\n                        case 'animation':\n                            attr.value.split(/\\s*;\\s*/).forEach(function (value) { return animations.push(_this.parseSettings(value)); });\n                            break;\n                        case 'filter':\n                            attr.value.split(/\\s*;\\s*/).forEach(function (value) { return filters.push(_this.parseSettings(value)); });\n                            break;\n                    }\n                    object.setAttribute(attr.name, attr.value);\n                }\n            }\n            for (var _b = 0, filters_1 = filters; _b < filters_1.length; _b++) {\n                var filter = filters_1[_b];\n                var command = filter.command, settings = filter.settings;\n                if (typeof Filters_1.Filters[command] === 'function') {\n                    Filters_1.Filters[command](object, settings);\n                }\n            }\n            if (!(object instanceof SVGSVGElement)) {\n                return;\n            }\n            Sequence_1.Sequence\n                .attach(object)\n                .addActions(animations)[\"finally\"](function () {\n                _this.assets[object.getAttribute('id')] = object.outerHTML;\n                target.outerHTML = object.outerHTML;\n            })\n                .run();\n        });\n    };\n    return Loader;\n}());\nexports.Loader = Loader;\n","\"use strict\";\nexports.__esModule = true;\nvar Animate_1 = require(\"./Animate\");\nvar Filters = /** @class */ (function () {\n    function Filters() {\n    }\n    Filters.animate = function (element, settings) {\n        if (settings === void 0) { settings = {}; }\n        Animate_1.Animate.svgOverride(element, settings);\n    };\n    return Filters;\n}());\nexports.Filters = Filters;\n","\"use strict\";\nexports.__esModule = true;\nvar Animations_1 = require(\"./Animations\");\nvar SVGStyle_1 = require(\"./SVGStyle\");\nvar Sequence = /** @class */ (function () {\n    function Sequence(element) {\n        this.actions = [];\n        this._index = 0;\n        this.actionSettings = {};\n        this._element = element;\n        this._style = new SVGStyle_1.SVGStyle(this._element, this);\n    }\n    Sequence.prototype.element = function () {\n        return this._element;\n    };\n    Sequence.prototype.index = function () {\n        return this._index;\n    };\n    Sequence.prototype.style = function () {\n        return this._style;\n    };\n    Sequence.attach = function (element) {\n        return new Sequence(element);\n    };\n    Sequence.prototype.settings = function (actionSettings) {\n        if (actionSettings === void 0) { actionSettings = {}; }\n        this.actionSettings = actionSettings;\n    };\n    Sequence.prototype.run = function () {\n        var _this = this;\n        this._index++;\n        if (this.actions.length === 0) {\n            this._style.render();\n            if (typeof this.finalAction === 'function') {\n                this.finalAction();\n            }\n        }\n        var action = this.actions.shift();\n        if (!action) {\n            return this;\n        }\n        var command = action.command, settings = action.settings;\n        Object.keys(this.actionSettings).forEach(function (index) {\n            if (typeof settings[index] === 'undefined') {\n                settings[index] = _this.actionSettings[index].toString();\n                return _this;\n            }\n            // add numbers as numbers\n            if (!isNaN(settings[index]) && !isNaN(_this.actionSettings[index])) {\n                settings[index] = (parseFloat(settings[index]) + parseFloat(_this.actionSettings[index])).toString();\n            }\n        });\n        Animations_1.Animations[command](settings, this);\n        return this;\n    };\n    Sequence.prototype[\"finally\"] = function (finalAction) {\n        this.finalAction = finalAction;\n        return this;\n    };\n    Sequence.prototype.addActions = function (actions) {\n        for (var _i = 0, actions_1 = actions; _i < actions_1.length; _i++) {\n            var action = actions_1[_i];\n            var command = action.command, settings = action.settings;\n            if (typeof Animations_1.Animations[command] === 'function') {\n                this.actions.push({ command: command, settings: settings });\n            }\n        }\n        return this;\n    };\n    return Sequence;\n}());\nexports.Sequence = Sequence;\n","\"use strict\";\nexports.__esModule = true;\nvar Animations_1 = require(\"../Animations\");\nvar Freehand = /** @class */ (function () {\n    function Freehand() {\n    }\n    Freehand.render = function (settings, sequence) {\n        if (settings === void 0) { settings = {}; }\n        // values from settings\n        var id = sequence.element().getAttribute('id');\n        var width = Animations_1.Animations.defaultFloat(settings.width, 30);\n        var minLength = Animations_1.Animations.defaultFloat(settings.minLength, 0);\n        var duration = Animations_1.Animations.defaultFloat(settings.duration, 5);\n        var awaitNext = typeof settings.await !== 'undefined';\n        // create definition block for mask geometries\n        // const defs = document.createElement('defs')\n        // parse geometries in element \n        var validGeos = Animations_1.Animations.applyValidGeometries(sequence.element(), settings);\n        var meta = Animations_1.Animations.geometriesToGeoMeta(validGeos, minLength, duration);\n        // add classes and masks for animations\n        Object.keys(meta.geoData)\n            .forEach(function (index) {\n            var data = meta.geoData[index];\n            var seqId = id + \"-\" + sequence.index() + \"-\" + index;\n            if (!data.drawable) {\n                data.geo.classList.add(seqId + \"-tiny\");\n                // add css keyframe for animation\n                sequence.style().keyframes(seqId + \"-freehand\").add({\n                    from: { opacity: 0 },\n                    to: { opacity: 1 }\n                });\n                // add css settings\n                sequence.style().selector(\".\" + seqId + \"-tiny\").add({\n                    opacity: 0,\n                    animation: seqId + \"-freehand 0s linear forwards\",\n                    'animation-delay': data.delay + \"s\"\n                });\n                return;\n            }\n            var mask = document.createElementNS(sequence.element().getAttribute('xmlns'), 'mask');\n            mask.setAttribute('id', seqId + \"-mask\");\n            mask.setAttribute('maskUnits', 'userSpaceOnUse');\n            mask.innerHTML = \"<path class=\\\"\" + seqId + \"-mask\\\" d=\\\"\" + data.geo.getAttribute('d') + \"\\\"/>\";\n            sequence.element().append(mask);\n            data.geo.setAttribute('mask', \"url(#\" + seqId + \"-mask)\");\n            // add css mask settings\n            sequence.style().selector(\"#\" + seqId + \"-mask\").add({\n                fill: \"none\",\n                stroke: \"white\",\n                'stroke-width': width,\n                'stroke-dasharray': data.length + \" \" + data.length,\n                'stroke-dashoffset': \"\" + data.length,\n                'animation': seqId + \"-freehand \" + data.duration + \"s linear forwards\",\n                'animation-delay': data.delay + \"s\"\n            });\n            // add css keyframe for animation\n            sequence.style().keyframes(seqId + \"-freehand\").add({\n                from: { 'stroke-dashoffset': data.length },\n                to: { 'stroke-dashoffset': 0 }\n            });\n        });\n        // add defnition block to the beginning of the element\n        // sequence.element().insertAdjacentElement('afterbegin', defs)\n        sequence.settings({\n            delay: awaitNext ? meta.totalDelay : 0\n        });\n        sequence.run();\n    };\n    return Freehand;\n}());\nexports.Freehand = Freehand;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nexports.__esModule = true;\nvar Animations_1 = require(\"../Animations\");\nvar FillIn = /** @class */ (function () {\n    function FillIn() {\n    }\n    FillIn.render = function (settings, sequence) {\n        if (settings === void 0) { settings = {}; }\n        // ensure style sheet\n        var geos = Animations_1.Animations.applyValidGeometries(sequence.element(), settings);\n        var id = sequence.element().getAttribute('id');\n        var opacity = Animations_1.Animations.defaultFloat(settings.opacity, 0);\n        var delay = Animations_1.Animations.defaultFloat(settings.delay, 0);\n        var duration = Animations_1.Animations.defaultFloat(settings.duration, 0);\n        var fill = settings.fill;\n        Object.keys(geos).forEach(function (index) {\n            var geo = geos[index];\n            var seqId = id + \"-\" + sequence.index() + \"-\" + index;\n            var className = id + \"-fill-\" + index;\n            // add css keyframe for animation\n            // to-do make this more generated\n            // store last to value as next from value\n            sequence.style()\n                .keyframes(seqId + \"-opacity\")\n                .add({\n                from: {\n                    opacity: 0\n                },\n                to: __assign({}, fill ? { fill: fill } : {}, { opacity: opacity })\n            });\n            geo.classList.add(className);\n            sequence.style()\n                .selector(\".\" + className)\n                .add({\n                animation: seqId + \"-opacity \" + duration + \"s linear \" + delay + \"s forwards\"\n            });\n        });\n        sequence.run();\n    };\n    return FillIn;\n}());\nexports.FillIn = FillIn;\n","\"use strict\";\nexports.__esModule = true;\nvar RuleFamily = /** @class */ (function () {\n    function RuleFamily(style, type) {\n        this.rules = {};\n        this.style = style;\n        this.type = type;\n    }\n    RuleFamily.prototype.add = function (id, rules) {\n        this.rules[id] = (this.rules[id] ? this.rules[id] : []).concat(this.toArray(rules));\n    };\n    RuleFamily.prototype.css = function () {\n        var _this = this;\n        var prefix = this.type === 'KEYFRAMES' ? '@keyframes ' : \"\";\n        var postfix = this.type === 'KEYFRAMES' ? '' : ':';\n        return Object.keys(this.rules).map(function (id) {\n            var merged = _this.rules[id].reduce(function (merged, set) {\n                Object.keys(set).forEach(function (attribute) {\n                    merged[attribute] = (merged[attribute] ? merged[attribute] : []).concat(set[attribute]);\n                });\n                return merged;\n            }, {});\n            return \"\" + prefix + id + \" {\\n\" + Object.keys(merged).map(function (attribute) { return \"\" + attribute + postfix + \" \" + (_this.type === 'KEYFRAMES'\n                ? \"{\" + merged[attribute].map(function (value) { return Object.keys(value).map(function (setting) { return setting + \": \" + value[setting] + \"; \"; }); }) + \"}\"\n                : merged[attribute].join(', ') + \";\"); }).join('\\n') + \"\\n}\\n\";\n        }).join('\\n');\n    };\n    RuleFamily.prototype.toArray = function (rules) {\n        if (!Array.isArray(rules)) {\n            return [rules];\n        }\n        return rules;\n    };\n    return RuleFamily;\n}());\nexports.RuleFamily = RuleFamily;\nvar IdentifiedRuleAdder = /** @class */ (function () {\n    function IdentifiedRuleAdder(ruleFamily, id) {\n        this.ruleFamily = ruleFamily;\n        this.id = id;\n    }\n    IdentifiedRuleAdder.prototype.add = function (rules) {\n        this.ruleFamily.add(this.id, rules);\n        return this;\n    };\n    return IdentifiedRuleAdder;\n}());\nexports.IdentifiedRuleAdder = IdentifiedRuleAdder;\nvar UnidentifiedRuleAdder = /** @class */ (function () {\n    function UnidentifiedRuleAdder(ruleFamily) {\n        this.ruleFamily = ruleFamily;\n    }\n    UnidentifiedRuleAdder.prototype.add = function (id, rules) {\n        this.ruleFamily.add(id, rules);\n        return this;\n    };\n    return UnidentifiedRuleAdder;\n}());\nexports.UnidentifiedRuleAdder = UnidentifiedRuleAdder;\nvar SVGStyle = /** @class */ (function () {\n    function SVGStyle(element, sequence) {\n        this.sequence = sequence;\n        this.rules = {\n            keyframes: new RuleFamily(this, 'KEYFRAMES'),\n            selector: new RuleFamily(this, 'SELECTOR')\n        };\n        this.element = element;\n    }\n    SVGStyle.prototype.wrap = function (id, ruleFamily) {\n        if (id) {\n            return {\n                add: function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    if (!args) {\n                        return ruleFamily;\n                    }\n                    if (args.length === 2 && typeof args[0] === 'string' && typeof args[1] === 'object') {\n                        return ruleFamily.add(args[0], args[1]);\n                    }\n                    if (args.length === 1 && typeof args[0] === 'object') {\n                        return ruleFamily.add(id, args[0]);\n                    }\n                    return ruleFamily;\n                }\n            };\n        }\n        return {\n            add: function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                if (!args) {\n                    return ruleFamily;\n                }\n                if (args.length === 2 && typeof args[0] === 'string' && typeof args[1] === 'object') {\n                    return ruleFamily.add(args[0], args[1]);\n                }\n                return ruleFamily;\n            }\n        };\n    };\n    SVGStyle.prototype.render = function () {\n        var css = [\n            this.rules.keyframes.css(),\n            this.rules.selector.css()\n        ].join('\\n');\n        this.styleSheet = document.createElement('style');\n        this.styleSheet.innerHTML = css;\n        this.element.insertAdjacentElement('afterbegin', this.styleSheet);\n    };\n    SVGStyle.prototype.keyframes = function (id) {\n        return this.wrap(id, this.rules.keyframes);\n    };\n    SVGStyle.prototype.selector = function (id) {\n        return this.wrap(id, this.rules.selector);\n    };\n    return SVGStyle;\n}());\nexports.SVGStyle = SVGStyle;\n"],"sourceRoot":""}